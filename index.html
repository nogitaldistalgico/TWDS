<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tobis JGA - Wer weiÃŸ denn sowas?</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>

<body>
    <div class="jga-container">
        <!-- Fullscreen Toggle -->
        <button id="btn-fullscreen"
            style="position:fixed; bottom:15px; left:15px; z-index:9999; background:rgba(255,255,255,0.1); border:1px solid rgba(255,255,255,0.2); color:rgba(255,255,255,0.5); width:40px; height:40px; border-radius:50%; font-size:1.2rem; cursor:pointer; transition: all 0.3s;"
            onmouseover="this.style.opacity=1; this.style.background='rgba(255,255,255,0.2)'"
            onmouseout="this.style.opacity=0.5; this.style.background='rgba(255,255,255,0.1)'"
            onclick="toggleFullscreen()">
            â›¶
        </button>
        <!-- Expanded Particles (More per User Request) -->
        <div class="particles">
            <div class="particle">ğŸº</div>
            <div class="particle">ğŸ‰</div>
            <div class="particle">ğŸ¾</div>
            <div class="particle">ğŸ»</div>
            <div class="particle">ğŸ’</div>
            <div class="particle">ğŸ¥ƒ</div>
            <div class="particle">ğŸŠ</div>
            <div class="particle">ğŸˆ</div>
            <div class="particle">ğŸ¾</div>
            <div class="particle">ğŸº</div>
            <div class="particle">ğŸº</div>
            <div class="particle">ğŸ‰</div>
            <div class="particle">ğŸ’ƒ</div>
            <div class="particle">ğŸ»</div>
            <div class="particle">ğŸ»</div>
            <div class="particle">ğŸ•</div>
            <div class="particle">ğŸ’</div>
            <div class="particle">ğŸº</div>
            <div class="particle">ğŸº</div>
            <div class="particle">ğŸ»</div>
        </div>

        <!-- Flying Heads Intro (Hidden by default) -->
        <div id="intro-animation" class="intro-overlay hidden">
            <div class="flying-head head-left" style="background-image: url('assets/tobi.png');"></div>
            <div class="flying-head head-right" style="background-image: url('assets/lurch.png');"></div>
        </div>

        <div class="content-wrapper glass-panel"
            style="background-image: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('assets/jga_pool_extra.jpg'); background-size: cover; background-position: center;">
            <!-- New "Geschwungene" Headline breaking out of box -->
            <div class="tobov-headline-wrapper">
                <h1 class="tobov-title">Wer weiÃŸ denn sowas?<br><span class="highlight">Tobov JGA Edition</span></h1>
            </div>

            <div class="hero-section">
                <!-- Main Tobi Image -->
                <div class="tobi-hero-image"
                    style="background-image: url('assets/jga_hero.jpg'); background-size: cover; background-position: center;">
                    <!-- Text removed, image shows -->
                </div>
            </div>

            <div class="game-info">
                <p style="margin-top: 2rem; color: rgba(255,255,255,0.8);">Das legendÃ¤re JGA Quiz fÃ¼r den BrÃ¤utigam
                    unseren Onkel Dr. Tobov & die
                    Gang</p>

                <button id="start-btn" class="start-btn pulsate">SPIEL STARTEN ğŸš€<br><span style="font-size:0.6em">(oder
                        Leertaste)</span></button>
            </div>

            <!-- Mini Gallery -->
            <div class="gallery-grid">
                <div class="photo-placeholder"
                    style="background-image: url('assets/jga_absturz.jpg'); background-size: cover; background-position: center; color: transparent;">
                    ABSTURZ</div>
                <div class="photo-placeholder"
                    style="background-image: url('assets/jga_party.jpg'); background-size: cover; background-position: center; color: transparent;">
                    PARTY</div>
                <div class="photo-placeholder"
                    style="background-image: url('assets/jga_legends.jpg'); background-size: cover; background-position: center; color: transparent;">
                    LEGENDS</div>
            </div>
        </div>
    </div>

    <script>
        let started = false;

        window.toggleFullscreen = function () {
            const btn = document.getElementById('btn-fullscreen');
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().then(() => {
                    sessionStorage.setItem('wwds_fullscreen_pref', 'true');
                    btn.innerHTML = 'â›¶'; // Active icon (or different)
                    btn.style.opacity = '1';
                }).catch(err => {
                    console.warn(`Error attempting to enable fullscreen: ${err.message}`);
                });
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                    sessionStorage.setItem('wwds_fullscreen_pref', 'false');
                    btn.style.opacity = '0.5';
                }
            }
        };

        function startGame() {
            if (started) return;
            started = true;

            // Trigger Animation
            const overlay = document.getElementById('intro-animation');
            overlay.classList.remove('hidden');
            overlay.classList.add('intro-active');

            // Delay Navigation
            setTimeout(() => {
                const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || (window.innerWidth <= 1024);
                if (isMobile) {
                    window.location.href = 'player.html';
                } else {
                    window.location.href = 'master.html';
                }
            }, 4500); // 4.5s delay to match slower animation
        }

        document.getElementById('start-btn').addEventListener('click', startGame);

        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                startGame();
            }
        });

        // Randomize particles positions on load
        document.querySelectorAll('.particle').forEach(p => {
            p.style.left = Math.random() * 100 + '%';
            p.style.animationDuration = (5 + Math.random() * 10) + 's';
            p.style.animationDelay = (Math.random() * 5) + 's';
        });
    </script>
</body>

</html>